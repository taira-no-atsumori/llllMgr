import{_ as sa,C as la,r as dt,S as ia,a as oa,F as na,g as ra,b as xe,c as ua,d as ca,i as xt,p as da,u as _a,e as ma,f as pa,h as ba,I as _t,j as va,k as ga,l as q,m as E,s as fa,n as ha,o as ka,w as wa,q as Ze,t as ie,v as ya,x as Va,y as Da,V as mt,z as pt,A as a,B as we,D as bt,E as Ra,G as Ea,H as Aa,J as Sa,K as Ne,L as Ta,M as J,N as Te,O as Ja,P as vt,Q as Ua,R as xa,T as Nt,U as Na,W as De,X as Qe,Y as $,Z as O,$ as ue,a0 as n,a1 as fe,a2 as I,a3 as L,a4 as g,a5 as Ia,a6 as te,a7 as H,a8 as Oa,a9 as It,aa as Pe,ab as Ca,ac as gt,ad as Pa,ae as U,af as Ma,ag as La,ah as Ba,ai as $a,aj as Fa,ak as Ha,al as $e,am as ve,an as Fe,ao as re,ap as Re,aq as ft,ar as ht,as as kt,at as Le,au as ge,av as Ot,aw as M,ax as R,ay as qa,az as Ee,aA as Ie,aB as ja,aC as He,aD as Se,aE as Ka,aF as wt,aG as Wa,aH as yt,aI as Vt,aJ as Me,aK as Ga,aL as be,aM as Ct,aN as Y,aO as Xa,aP as Ke,aQ as We,aR as Dt,aS as Pt,aT as Rt,aU as Ya,aV as za,aW as Za,aX as Qa,aY as es,aZ as ts,a_ as as,a$ as ss,b0 as ls,b1 as is,b2 as os,b3 as ns,b4 as rs,b5 as us,b6 as cs,b7 as ds,b8 as _s,b9 as ms,ba as ps,bb as bs,bc as vs,bd as gs,be as fs,bf as hs,bg as ks,bh as ws,bi as ys,bj as Vs,bk as Ds,bl as Rs,bm as Es,bn as As,bo as Ss,bp as Ts,bq as Js,br as Us,bs as xs,bt as Ns,bu as Is,bv as Os,bw as Cs,bx as Ps,by as Ms,bz as Ls,bA as Bs,bB as $s,bC as Fs,bD as Hs,bE as qs,bF as js,bG as Ks,bH as Ws,bI as Gs,bJ as Xs,bK as Ys,bL as zs,bM as Zs,bN as Qs,bO as el,bP as tl,bQ as al,bR as sl,bS as ll,bT as il,bU as ol,bV as nl,bW as rl,bX as ul,bY as cl,bZ as dl,b_ as _l,b$ as ml,c0 as pl,c1 as bl,c2 as vl,c3 as gl,c4 as fl,c5 as hl,c6 as kl,c7 as wl,c8 as yl,c9 as Vl,ca as Dl,cb as Rl,cc as El,cd as Al,ce as Sl,cf as Tl,cg as Jl,ch as Ul,ci as xl,cj as Nl,ck as Il,cl as Ol,cm as Cl,cn as Pl,co as Ml,cp as Ll,cq as Bl,cr as $l,cs as Fl,ct as Hl,cu as ql,cv as jl,cw as Kl,cx as Wl,cy as Gl,cz as Xl,cA as Yl,cB as zl,cC as Zl,cD as Ql,cE as ei,cF as ti,cG as ai,cH as si,cI as li,cJ as ii,cK as oi,cL as ni,cM as ri,cN as ui,cO as ci,cP as di,cQ as _i,cR as mi,cS as pi,cT as bi,cU as vi,cV as gi,cW as fi,cX as hi,cY as ki,cZ as wi,c_ as yi,c$ as Vi,d0 as Di,d1 as Ri,d2 as Ei,d3 as Ai,d4 as Si,d5 as Ti,d6 as Ji,d7 as Ui,d8 as xi,d9 as Ni,da as Ii,db as Oi,dc as Ci,dd as Pi,de as Mi,df as Li,dg as Bi,dh as $i,di as Fi,dj as Hi,dk as qi,dl as ji,dm as Ki,dn as Wi,dp as Gi,dq as Xi,dr as Yi,ds as zi,dt as Zi,du as Qi,dv as eo,dw as to,dx as ao,dy as so,dz as lo,dA as io,dB as oo,dC as no,dD as ro,dE as uo,dF as co,dG as _o,dH as mo,dI as po,dJ as bo,dK as vo,dL as go,dM as fo,dN as ho,dO as ko,dP as wo,dQ as yo,dR as Vo,dS as Do,dT as Ro,dU as Eo,dV as Ao,dW as So,dX as To,dY as Jo,dZ as Uo,d_ as xo,d$ as No,e0 as Io,e1 as Oo,e2 as Co,e3 as Po,e4 as Mo,e5 as Lo,e6 as Bo,e7 as $o,e8 as Fo,e9 as Ho,ea as qo,eb as jo,ec as Ko,ed as Wo,ee as Go,ef as Xo,eg as Yo,eh as zo,ei as Zo,ej as Qo,ek as en,el as tn,em as an,en as sn,eo as ln,ep as on,eq as nn,er as rn,es as un,et as cn,eu as dn,ev as _n,ew as mn,ex as pn,ey as bn,ez as vn,eA as gn,eB as fn,eC as hn,eD as kn,eE as wn,eF as yn,eG as Vn,eH as Dn,eI as Rn,eJ as me,eK as En,eL as pe}from"./index.js";const Mt="firebasestorage.googleapis.com",Lt="storageBucket",An=2*60*1e3,Sn=10*60*1e3;class P extends na{constructor(t,s,l=0){super(Ge(t),`Firebase Storage: ${s} (${Ge(t)})`),this.status_=l,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,P.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ge(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var C;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(C||(C={}));function Ge(e){return"storage/"+e}function et(){const e="An unknown error occurred, please check the error payload for server response.";return new P(C.UNKNOWN,e)}function Tn(e){return new P(C.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Jn(e){return new P(C.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Un(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new P(C.UNAUTHENTICATED,e)}function xn(){return new P(C.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nn(e){return new P(C.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function In(){return new P(C.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function On(){return new P(C.CANCELED,"User canceled the upload/download.")}function Cn(e){return new P(C.INVALID_URL,"Invalid URL '"+e+"'.")}function Pn(e){return new P(C.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Mn(){return new P(C.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lt+"' property when initializing the app?")}function Ln(){return new P(C.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Bn(){return new P(C.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $n(e){return new P(C.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ye(e){return new P(C.INVALID_ARGUMENT,e)}function Bt(){return new P(C.APP_DELETED,"The Firebase app was deleted.")}function Fn(e){return new P(C.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Je(e,t){return new P(C.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ae(e){throw new P(C.INTERNAL_ERROR,"Internal error: "+e)}class j{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let l;try{l=j.makeFromUrl(t,s)}catch{return new j(t,"")}if(l.path==="")return l;throw Pn(t)}static makeFromUrl(t,s){let l=null;const u="([A-Za-z0-9.\\-_]+)";function c(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const p="(/(.*))?$",o=new RegExp("^gs://"+u+p,"i"),y={bucket:1,path:3};function w(x){x.path_=decodeURIComponent(x.path)}const h="v[A-Za-z0-9_]+",V=s.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",d=new RegExp(`^https?://${V}/${h}/b/${u}/o${v}`,"i"),i={bucket:1,path:3},b=s===Mt?"(?:storage.googleapis.com|storage.cloud.google.com)":s,k="([^?#]*)",D=new RegExp(`^https?://${b}/${u}/${k}`,"i"),r=[{regex:o,indices:y,postModify:c},{regex:d,indices:i,postModify:w},{regex:D,indices:{bucket:1,path:2},postModify:w}];for(let x=0;x<r.length;x++){const W=r[x],z=W.regex.exec(t);if(z){const ce=z[W.indices.bucket];let se=z[W.indices.path];se||(se=""),l=new j(ce,se),W.postModify(l);break}}if(l==null)throw Cn(t);return l}}class Hn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function qn(e,t,s){let l=1,u=null,c=null,p=!1,o=0;function y(){return o===2}let w=!1;function h(...k){w||(w=!0,t.apply(null,k))}function V(k){u=setTimeout(()=>{u=null,e(d,y())},k)}function v(){c&&clearTimeout(c)}function d(k,...D){if(w){v();return}if(k){v(),h.call(null,k,...D);return}if(y()||p){v(),h.call(null,k,...D);return}l<64&&(l*=2);let r;o===1?(o=2,r=0):r=(l+Math.random())*1e3,V(r)}let i=!1;function b(k){i||(i=!0,v(),!w&&(u!==null?(k||(o=2),clearTimeout(u),V(0)):k||(o=1)))}return V(0),c=setTimeout(()=>{p=!0,b(!0)},s),b}function jn(e){e(!1)}function Kn(e){return e!==void 0}function Wn(e){return typeof e=="object"&&!Array.isArray(e)}function tt(e){return typeof e=="string"||e instanceof String}function Et(e){return at()&&e instanceof Blob}function at(){return typeof Blob<"u"}function ze(e,t,s,l){if(l<t)throw Ye(`Invalid value for '${e}'. Expected ${t} or greater.`);if(l>s)throw Ye(`Invalid value for '${e}'. Expected ${s} or less.`)}function qe(e,t,s){let l=t;return s==null&&(l=`https://${t}`),`${s}://${l}/v0${e}`}function $t(e){const t=encodeURIComponent;let s="?";for(const l in e)if(e.hasOwnProperty(l)){const u=t(l)+"="+t(e[l]);s=s+u+"&"}return s=s.slice(0,-1),s}var he;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(he||(he={}));function Gn(e,t){const s=e>=500&&e<600,u=[408,429].indexOf(e)!==-1,c=t.indexOf(e)!==-1;return s||u||c}class Xn{constructor(t,s,l,u,c,p,o,y,w,h,V,v=!0,d=!1){this.url_=t,this.method_=s,this.headers_=l,this.body_=u,this.successCodes_=c,this.additionalRetryCodes_=p,this.callback_=o,this.errorCallback_=y,this.timeout_=w,this.progressCallback_=h,this.connectionFactory_=V,this.retry=v,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((i,b)=>{this.resolve_=i,this.reject_=b,this.start_()})}start_(){const t=(l,u)=>{if(u){l(!1,new Oe(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const p=o=>{const y=o.loaded,w=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,w)};this.progressCallback_!==null&&c.addUploadProgressListener(p),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(p),this.pendingConnection_=null;const o=c.getErrorCode()===he.NO_ERROR,y=c.getStatus();if(!o||Gn(y,this.additionalRetryCodes_)&&this.retry){const h=c.getErrorCode()===he.ABORT;l(!1,new Oe(!1,null,h));return}const w=this.successCodes_.indexOf(y)!==-1;l(!0,new Oe(w,c))})},s=(l,u)=>{const c=this.resolve_,p=this.reject_,o=u.connection;if(u.wasSuccessCode)try{const y=this.callback_(o,o.getResponse());Kn(y)?c(y):c()}catch(y){p(y)}else if(o!==null){const y=et();y.serverResponse=o.getErrorText(),this.errorCallback_?p(this.errorCallback_(o,y)):p(y)}else if(u.canceled){const y=this.appDelete_?Bt():On();p(y)}else{const y=In();p(y)}};this.canceled_?s(!1,new Oe(!1,null,!0)):this.backoffId_=qn(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oe{constructor(t,s,l){this.wasSuccessCode=t,this.connection=s,this.canceled=!!l}}function Yn(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function zn(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Zn(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Qn(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function er(e,t,s,l,u,c,p=!0,o=!1){const y=$t(e.urlParams),w=e.url+y,h=Object.assign({},e.headers);return Zn(h,t),Yn(h,s),zn(h,c),Qn(h,l),new Xn(w,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,u,p,o)}function tr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ar(...e){const t=tr();if(t!==void 0){const s=new t;for(let l=0;l<e.length;l++)s.append(e[l]);return s.getBlob()}else{if(at())return new Blob(e);throw new P(C.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sr(e,t,s){return e.webkitSlice?e.webkitSlice(t,s):e.mozSlice?e.mozSlice(t,s):e.slice?e.slice(t,s):null}function lr(e){if(typeof atob>"u")throw $n("base-64");return atob(e)}const ae={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xe{constructor(t,s){this.data=t,this.contentType=s||null}}function ir(e,t){switch(e){case ae.RAW:return new Xe(Ft(t));case ae.BASE64:case ae.BASE64URL:return new Xe(Ht(e,t));case ae.DATA_URL:return new Xe(nr(t),rr(t))}throw et()}function Ft(e){const t=[];for(let s=0;s<e.length;s++){let l=e.charCodeAt(s);if(l<=127)t.push(l);else if(l<=2047)t.push(192|l>>6,128|l&63);else if((l&64512)===55296)if(!(s<e.length-1&&(e.charCodeAt(s+1)&64512)===56320))t.push(239,191,189);else{const c=l,p=e.charCodeAt(++s);l=65536|(c&1023)<<10|p&1023,t.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|l&63)}else(l&64512)===56320?t.push(239,191,189):t.push(224|l>>12,128|l>>6&63,128|l&63)}return new Uint8Array(t)}function or(e){let t;try{t=decodeURIComponent(e)}catch{throw Je(ae.DATA_URL,"Malformed data URL.")}return Ft(t)}function Ht(e,t){switch(e){case ae.BASE64:{const u=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(u||c)throw Je(e,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case ae.BASE64URL:{const u=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(u||c)throw Je(e,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=lr(t)}catch(u){throw u.message.includes("polyfill")?u:Je(e,"Invalid character found")}const l=new Uint8Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);return l}class qt{constructor(t){this.base64=!1,this.contentType=null;const s=t.match(/^data:([^,]+)?,/);if(s===null)throw Je(ae.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const l=s[1]||null;l!=null&&(this.base64=ur(l,";base64"),this.contentType=this.base64?l.substring(0,l.length-7):l),this.rest=t.substring(t.indexOf(",")+1)}}function nr(e){const t=new qt(e);return t.base64?Ht(ae.BASE64,t.rest):or(t.rest)}function rr(e){return new qt(e).contentType}function ur(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class ne{constructor(t,s){let l=0,u="";Et(t)?(this.data_=t,l=t.size,u=t.type):t instanceof ArrayBuffer?(s?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),l=this.data_.length):t instanceof Uint8Array&&(s?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),l=t.length),this.size_=l,this.type_=u}size(){return this.size_}type(){return this.type_}slice(t,s){if(Et(this.data_)){const l=this.data_,u=sr(l,t,s);return u===null?null:new ne(u)}else{const l=new Uint8Array(this.data_.buffer,t,s-t);return new ne(l,!0)}}static getBlob(...t){if(at()){const s=t.map(l=>l instanceof ne?l.data_:l);return new ne(ar.apply(null,s))}else{const s=t.map(p=>tt(p)?ir(ae.RAW,p).data:p.data_);let l=0;s.forEach(p=>{l+=p.byteLength});const u=new Uint8Array(l);let c=0;return s.forEach(p=>{for(let o=0;o<p.length;o++)u[c++]=p[o]}),new ne(u,!0)}}uploadData(){return this.data_}}function st(e){let t;try{t=JSON.parse(e)}catch{return null}return Wn(t)?t:null}function cr(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function dr(e,t){const s=t.split("/").filter(l=>l.length>0).join("/");return e.length===0?s:e+"/"+s}function jt(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function _r(e,t){return t}class F{constructor(t,s,l,u){this.server=t,this.local=s||t,this.writable=!!l,this.xform=u||_r}}let Ce=null;function mr(e){return!tt(e)||e.length<2?e:jt(e)}function Kt(){if(Ce)return Ce;const e=[];e.push(new F("bucket")),e.push(new F("generation")),e.push(new F("metageneration")),e.push(new F("name","fullPath",!0));function t(c,p){return mr(p)}const s=new F("name");s.xform=t,e.push(s);function l(c,p){return p!==void 0?Number(p):p}const u=new F("size");return u.xform=l,e.push(u),e.push(new F("timeCreated")),e.push(new F("updated")),e.push(new F("md5Hash",null,!0)),e.push(new F("cacheControl",null,!0)),e.push(new F("contentDisposition",null,!0)),e.push(new F("contentEncoding",null,!0)),e.push(new F("contentLanguage",null,!0)),e.push(new F("contentType",null,!0)),e.push(new F("metadata","customMetadata",!0)),Ce=e,Ce}function pr(e,t){function s(){const l=e.bucket,u=e.fullPath,c=new j(l,u);return t._makeStorageReference(c)}Object.defineProperty(e,"ref",{get:s})}function br(e,t,s){const l={};l.type="file";const u=s.length;for(let c=0;c<u;c++){const p=s[c];l[p.local]=p.xform(l,t[p.server])}return pr(l,e),l}function Wt(e,t,s){const l=st(t);return l===null?null:br(e,l,s)}function vr(e,t,s,l){const u=st(t);if(u===null||!tt(u.downloadTokens))return null;const c=u.downloadTokens;if(c.length===0)return null;const p=encodeURIComponent;return c.split(",").map(w=>{const h=e.bucket,V=e.fullPath,v="/b/"+p(h)+"/o/"+p(V),d=qe(v,s,l),i=$t({alt:"media",token:w});return d+i})[0]}function gr(e,t){const s={},l=t.length;for(let u=0;u<l;u++){const c=t[u];c.writable&&(s[c.server]=e[c.local])}return JSON.stringify(s)}const At="prefixes",St="items";function fr(e,t,s){const l={prefixes:[],items:[],nextPageToken:s.nextPageToken};if(s[At])for(const u of s[At]){const c=u.replace(/\/$/,""),p=e._makeStorageReference(new j(t,c));l.prefixes.push(p)}if(s[St])for(const u of s[St]){const c=e._makeStorageReference(new j(t,u.name));l.items.push(c)}return l}function hr(e,t,s){const l=st(s);return l===null?null:fr(e,t,l)}class lt{constructor(t,s,l,u){this.url=t,this.method=s,this.handler=l,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function it(e){if(!e)throw et()}function kr(e,t){function s(l,u){const c=Wt(e,u,t);return it(c!==null),c}return s}function wr(e,t){function s(l,u){const c=hr(e,t,u);return it(c!==null),c}return s}function yr(e,t){function s(l,u){const c=Wt(e,u,t);return it(c!==null),vr(c,u,e.host,e._protocol)}return s}function ot(e){function t(s,l){let u;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?u=xn():u=Un():s.getStatus()===402?u=Jn(e.bucket):s.getStatus()===403?u=Nn(e.path):u=l,u.status=s.getStatus(),u.serverResponse=l.serverResponse,u}return t}function Vr(e){const t=ot(e);function s(l,u){let c=t(l,u);return l.getStatus()===404&&(c=Tn(e.path)),c.serverResponse=u.serverResponse,c}return s}function Dr(e,t,s,l,u){const c={};t.isRoot?c.prefix="":c.prefix=t.path+"/",s.length>0&&(c.delimiter=s),l&&(c.pageToken=l),u&&(c.maxResults=u);const p=t.bucketOnlyServerUrl(),o=qe(p,e.host,e._protocol),y="GET",w=e.maxOperationRetryTime,h=new lt(o,y,wr(e,t.bucket),w);return h.urlParams=c,h.errorHandler=ot(t),h}function Rr(e,t,s){const l=t.fullServerUrl(),u=qe(l,e.host,e._protocol),c="GET",p=e.maxOperationRetryTime,o=new lt(u,c,yr(e,s),p);return o.errorHandler=Vr(t),o}function Er(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ar(e,t,s){const l=Object.assign({},s);return l.fullPath=e.path,l.size=t.size(),l.contentType||(l.contentType=Er(null,t)),l}function Sr(e,t,s,l,u){const c=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function o(){let r="";for(let x=0;x<2;x++)r=r+Math.random().toString().slice(2);return r}const y=o();p["Content-Type"]="multipart/related; boundary="+y;const w=Ar(t,l,u),h=gr(w,s),V="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+y+`\r
Content-Type: `+w.contentType+`\r
\r
`,v=`\r
--`+y+"--",d=ne.getBlob(V,l,v);if(d===null)throw Ln();const i={name:w.fullPath},b=qe(c,e.host,e._protocol),k="POST",D=e.maxUploadRetryTime,A=new lt(b,k,kr(e,s),D);return A.urlParams=i,A.headers=p,A.body=d.uploadData(),A.errorHandler=ot(t),A}class Tr{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=he.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=he.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=he.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,s,l,u,c){if(this.sent_)throw Ae("cannot .send() more than once");if(xt(t)&&l&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(s,t,!0),c!==void 0)for(const p in c)c.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,c[p].toString());return u!==void 0?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ae("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ae("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ae("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ae("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Jr extends Tr{initXhr(){this.xhr_.responseType="text"}}function nt(){return new Jr}class ke{constructor(t,s){this._service=t,s instanceof j?this._location=s:this._location=j.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new ke(t,s)}get root(){const t=new j(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jt(this._location.path)}get storage(){return this._service}get parent(){const t=cr(this._location.path);if(t===null)return null;const s=new j(this._location.bucket,t);return new ke(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw Fn(t)}}function Ur(e,t,s){e._throwIfRoot("uploadBytes");const l=Sr(e.storage,e._location,Kt(),new ne(t,!0),s);return e.storage.makeRequestWithTokens(l,nt).then(u=>({metadata:u,ref:e}))}function xr(e){const t={prefixes:[],items:[]};return Gt(e,t).then(()=>t)}async function Gt(e,t,s){const u=await Nr(e,{pageToken:s});t.prefixes.push(...u.prefixes),t.items.push(...u.items),u.nextPageToken!=null&&await Gt(e,t,u.nextPageToken)}function Nr(e,t){t!=null&&typeof t.maxResults=="number"&&ze("options.maxResults",1,1e3,t.maxResults);const s=t||{},l=Dr(e.storage,e._location,"/",s.pageToken,s.maxResults);return e.storage.makeRequestWithTokens(l,nt)}function Ir(e){e._throwIfRoot("getDownloadURL");const t=Rr(e.storage,e._location,Kt());return e.storage.makeRequestWithTokens(t,nt).then(s=>{if(s===null)throw Bn();return s})}function Or(e,t){const s=dr(e._location.path,t),l=new j(e._location.bucket,s);return new ke(e.storage,l)}function Cr(e){return/^[A-Za-z]+:\/\//.test(e)}function Pr(e,t){return new ke(e,t)}function Xt(e,t){if(e instanceof rt){const s=e;if(s._bucket==null)throw Mn();const l=new ke(s,s._bucket);return t!=null?Xt(l,t):l}else return t!==void 0?Or(e,t):e}function Mr(e,t){if(t&&Cr(t)){if(e instanceof rt)return Pr(e,t);throw Ye("To use ref(service, url), the first argument must be a Storage instance.")}else return Xt(e,t)}function Tt(e,t){const s=t?.[Lt];return s==null?null:j.makeFromBucketSpec(s,e)}function Lr(e,t,s,l={}){e.host=`${t}:${s}`;const u=xt(t);u&&(da(`https://${e.host}/b`),_a("Storage",!0)),e._isUsingEmulator=!0,e._protocol=u?"https":"http";const{mockUserToken:c}=l;c&&(e._overrideAuthToken=typeof c=="string"?c:ma(c,e.app.options.projectId))}class rt{constructor(t,s,l,u,c,p=!1){this.app=t,this._authProvider=s,this._appCheckProvider=l,this._url=u,this._firebaseVersion=c,this._isUsingEmulator=p,this._bucket=null,this._host=Mt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=An,this._maxUploadRetryTime=Sn,this._requests=new Set,u!=null?this._bucket=j.makeFromBucketSpec(u,this._host):this._bucket=Tt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=j.makeFromBucketSpec(this._url,t):this._bucket=Tt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ze("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ze("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ke(this,t)}_makeRequest(t,s,l,u,c=!0){if(this._deleted)return new Hn(Bt());{const p=er(t,this._appId,l,u,s,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(t,s){const[l,u]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,l,u).getPromise()}}const Jt="@firebase/storage",Ut="0.14.0";const Yt="storage";function Be(e,t,s){return e=xe(e),Ur(e,t,s)}function zt(e){return e=xe(e),xr(e)}function Ue(e){return e=xe(e),Ir(e)}function ye(e,t){return e=xe(e),Mr(e,t)}function Ve(e=ra(),t){e=xe(e);const l=ua(e,Yt).getImmediate({identifier:t}),u=ca("storage");return u&&Br(l,...u),l}function Br(e,t,s,l={}){Lr(e,t,s,l)}function $r(e,{instanceIdentifier:t}){const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return new rt(s,l,u,t,ia)}function Fr(){sa(new la(Yt,$r,"PUBLIC").setMultipleInstances(!0)),dt(Jt,Ut,""),dt(Jt,Ut,"esm2020")}Fr();const Hr=ba({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Sa(),...Aa(),...Ea()},"VTextarea"),ee=pa()({name:"VTextarea",directives:{vIntersect:_t},inheritAttrs:!1,props:Hr(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:s,emit:l,slots:u}=t;const c=va(e,"modelValue"),{isFocused:p,focus:o,blur:y}=ga(e),{onIntersect:w}=Ua(e),h=q(()=>typeof e.counterValue=="function"?e.counterValue(c.value):(c.value||"").toString().length),V=q(()=>{if(s.maxlength)return s.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),v=E(),d=E(),i=fa(""),b=E(),k=E(0),{platform:D}=ha(),A=ka(e),r=q(()=>e.persistentPlaceholder||p.value||e.active);function x(){A.isSuppressing.value&&A.update(),b.value!==document.activeElement&&b.value?.focus(),p.value||o()}function W(N){x(),l("click:control",N)}function z(N){l("mousedown:control",N)}function ce(N){N.stopPropagation(),x(),Ne(()=>{c.value="",Na(e["onClick:clear"],N)})}function se(N){const B=N.target;if(c.value=B.value,e.modelModifiers?.trim){const G=[B.selectionStart,B.selectionEnd];Ne(()=>{B.selectionStart=G[0],B.selectionEnd=G[1]})}}const Z=E(),le=E(Number(e.rows)),de=q(()=>["plain","underlined"].includes(e.variant));wa(()=>{e.autoGrow||(le.value=Number(e.rows))});function Q(){Ne(()=>{if(!b.value)return;if(D.value.firefox){k.value=12;return}const{offsetWidth:N,clientWidth:B}=b.value;k.value=Math.max(0,N-B)}),e.autoGrow&&Ne(()=>{if(!Z.value||!d.value)return;const N=getComputedStyle(Z.value),B=getComputedStyle(d.value.$el),G=parseFloat(N.getPropertyValue("--v-field-padding-top"))+parseFloat(N.getPropertyValue("--v-input-padding-top"))+parseFloat(N.getPropertyValue("--v-field-padding-bottom")),f=Z.value.scrollHeight,_=parseFloat(N.lineHeight),m=Math.max(parseFloat(e.rows)*_+G,parseFloat(B.getPropertyValue("--v-input-control-height"))),T=parseFloat(e.maxRows)*_+G||1/0,S=Ta(f??0,m,T);le.value=Math.floor((S-G)/_),i.value=bt(S)})}Ze(Q),ie(c,Q),ie(()=>e.rows,Q),ie(()=>e.maxRows,Q),ie(()=>e.density,Q),ie(le,N=>{l("update:rows",N)});let _e;return ie(Z,N=>{N?(_e=new ResizeObserver(Q),_e.observe(Z.value)):_e?.disconnect()}),ya(()=>{_e?.disconnect()}),Va(()=>{const N=!!(u.counter||e.counter||e.counterValue),B=!!(N||u.details),[G,f]=Da(s),{modelValue:_,...m}=mt.filterProps(e),T={...pt.filterProps(e),"onClick:clear":ce};return a(mt,we({ref:v,modelValue:c.value,"onUpdate:modelValue":S=>c.value=S,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":de.value},e.class],style:[{"--v-textarea-scroll-bar-width":bt(k.value)},e.style]},G,m,{centerAffix:le.value===1&&!de.value,focused:p.value}),{...u,default:S=>{let{id:K,isDisabled:X,isDirty:oe,isReadonly:Zt,isValid:Qt,hasDetails:ea}=S;return a(pt,we({ref:d,style:{"--v-textarea-control-height":i.value},onClick:W,onMousedown:z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},T,{id:K.value,active:r.value||oe.value,centerAffix:le.value===1&&!de.value,dirty:oe.value||e.dirty,disabled:X.value,focused:p.value,details:ea.value,error:Qt.value===!1}),{...u,default:ta=>{let{props:{class:ut,...ct},controlRef:aa}=ta;return J(Te,null,[e.prefix&&J("span",{class:"v-text-field__prefix"},[e.prefix]),vt(J("textarea",we({ref:je=>b.value=aa.value=je,class:ut,value:c.value,onInput:se,autofocus:e.autofocus,readonly:Zt.value,disabled:X.value,placeholder:e.placeholder,rows:e.rows,name:A.fieldName.value,autocomplete:A.fieldAutocomplete.value,onFocus:x,onBlur:y},ct,f),null),[[_t,{handler:w},null,{once:!0}]]),e.autoGrow&&vt(J("textarea",{class:Nt([ut,"v-textarea__sizer"]),id:`${ct.id}-sizer`,"onUpdate:modelValue":je=>c.value=je,ref:Z,readonly:!0,"aria-hidden":"true"},null),[[xa,c.value]]),e.suffix&&J("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:B?S=>J(Te,null,[u.details?.(S),N&&J(Te,null,[J("span",null,null),a(Ja,{active:e.persistentCounter||p.value,value:h.value,max:V.value,disabled:e.disabled},u.counter)])]):void 0})}),Ra({},v,d,b)}}),qr={key:0,class:"mb-4 text-grey"},jr={key:1},Kr={class:"text-caption mr-2"},Wr={class:"text-caption"},Gr=De({__name:"PendingData",emits:["edit"],setup(e,{emit:t}){const s=Qe(),l=E(!1),u=E(""),c=E(""),p=E([]),o=E(!1),y=E(!1),w=E(""),h=t,V=i=>{s.setEditTarget(i.type,i.key),h("edit",i.type)},v=i=>{if(c.value=JSON.stringify(i.data,null,2),i.status==="update"){let b=null;i.type==="music"?b=s.prodData.music[i.key]:i.type==="card"&&(b=s.flattenCards(s.prodData.card)[i.key]?.data),u.value=JSON.stringify(b,null,2)}else u.value="New Data"},d=async()=>{if(p.value.length===0)return;l.value=!0;const i=Ve(ve.app);try{const b={};for(const k of p.value){const D=s.diffList.find(x=>x.key===k);if(!D)continue;const A=JSON.parse(JSON.stringify(D.data));let r=null;if(D.type==="music"?r=s.prodData.music[D.key]:D.type==="card"&&(r=s.flattenCards(s.prodData.card)[D.key]?.data),A.imageURL&&A.imageURL.startsWith("http")&&(!r||!r.imageURL))try{const W=await(await fetch(A.imageURL)).blob();let z="webp";try{const Q=new URL(A.imageURL),N=decodeURIComponent(Q.pathname).match(/\.([a-zA-Z0-9]+)$/);N&&(z=N[1])}catch{}const ce=`${k}.${z}`,se=D.type==="card"?"cardIllust":D.type==="music"?"cdJacket":"eventInformation",Z=ye(i,`${se}/${ce}`),le=await Be(Z,W),de=await Ue(le.ref);A.imageURL=de}catch(x){console.error(`Failed to copy image for ${k}:`,x)}b[D.path]=A}await Fe(re(ve),b),o.value=!0,p.value=[],u.value="",c.value=""}catch(b){console.error("Upload failed:",b),w.value=String(b),y.value=!0}finally{l.value=!1}};return(i,b)=>(O(),$(ue,{fluid:"",class:"pa-0"},{default:n(()=>[I(s).diffList.length===0?(O(),fe("div",qr," Dev環境と本番環境のデータに差分はありません。 ")):(O(),fe("div",jr,[a(L,{text:"Deploy to Prod",color:"primary","prepend-icon":"mdi-cloud-upload",loading:l.value,disabled:p.value.length===0,onClick:d},null,8,["loading","disabled"]),a(U,{class:"mt-0"},{default:n(()=>[a(g,{cols:"4"},{default:n(()=>[a(Ia,null,{default:n(()=>[te(" Diff: "+H(I(s).diffList.length),1)]),_:1}),a(Oa,{variant:"flat",class:"mb-4"},{default:n(()=>[(O(!0),fe(Te,null,It(I(s).diffList,k=>(O(),$(Pe,{key:k.key,class:Nt(k.status==="new"?"bg-blue-lighten-4":"bg-yellow-lighten-4"),onClick:D=>v(k)},{prepend:n(()=>[a(Pa,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=D=>p.value=D),value:k.key,color:"pink",onClick:b[1]||(b[1]=gt(()=>{},["stop"]))},null,8,["modelValue","value"])]),append:n(()=>[a(L,{icon:"mdi-pencil",variant:"text",density:"compact",onClick:gt(D=>V(k),["stop"])},null,8,["onClick"])]),default:n(()=>[a(Ca,null,{default:n(()=>[J("span",Kr,"["+H(k.type)+"]",1),te(" "+H(k.data.title||k.data.cardName||k.key)+" ",1),J("span",Wr,"("+H(k.status)+")",1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(ee,{modelValue:u.value,"onUpdate:modelValue":b[2]||(b[2]=k=>u.value=k),label:"Prod (Before)","auto-grow":"",readonly:"",variant:"solo"},null,8,["modelValue"])]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(ee,{modelValue:c.value,"onUpdate:modelValue":b[3]||(b[3]=k=>c.value=k),label:"Dev (After)","auto-grow":"",readonly:"",variant:"solo"},null,8,["modelValue"])]),_:1})]),_:1})])),a(Ha,{modelValue:y.value,"onUpdate:modelValue":b[5]||(b[5]=k=>y.value=k),"max-width":"600"},{default:n(()=>[a(Ma,null,{default:n(()=>[a(La,{class:"text-h5 bg-error"},{default:n(()=>[...b[8]||(b[8]=[te("Upload Failed",-1)])]),_:1}),a(Ba,{class:"pt-4"},{default:n(()=>[b[9]||(b[9]=J("p",null," アップロードに失敗しました。コンソールで詳細を確認してください。 ",-1)),b[10]||(b[10]=J("p",{class:"mt-4 font-weight-bold"},"エラーメッセージ:",-1)),a(ee,{"model-value":w.value,readonly:"",variant:"outlined",rows:"5","auto-grow":"",class:"mt-2"},null,8,["model-value"])]),_:1}),a($a,null,{default:n(()=>[a(Fa),a(L,{color:"primary",text:"Close",onClick:b[4]||(b[4]=k=>y.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a($e,{modelValue:o.value,"onUpdate:modelValue":b[7]||(b[7]=k=>o.value=k),timeout:3e3,color:"success"},{actions:n(()=>[a(L,{variant:"text",text:"Close",onClick:b[6]||(b[6]=k=>o.value=!1)})]),default:n(()=>[b[11]||(b[11]=te(" Upload Completed! ",-1))]),_:1},8,["modelValue"])]),_:1}))}}),Xr=De({__name:"AddCard",setup(e){const t=Qe(),s=E({}),l=E(""),u=E(!1),c=E(""),p=E("success"),o=E({cardName:"",member:Le.KAHO,rare:kt[3],styleType:ht.PERFORMER.en,mood:ft.HAPPY.en,period:Re.normal.en,season:"",year:2025,sprit:1,series:"",kana:"",uniqueStatus:{smile:0,pure:0,cool:0,mental:0,BP:100},SAID:"",SAName:"",SAAP:0,SADetail:"",skillID:"",skillName:"",skillAP:0,skillDetail:"",characteristicName:"",characteristicDetail:""});Ze(()=>{const v=re(ge,"card");Ot(v,d=>{const i=d.val();i&&(s.value=i)})}),ie([()=>t.editTarget,s],([v,d])=>{if(v&&v.type==="card"&&v.id&&d&&Object.keys(d).length>0){let i=null,b="",k="";for(const D in d){for(const A in d[D])if(d[D][A][v.id]){i=d[D][A][v.id],b=D,k=A;break}if(i)break}if(i){l.value=v.id,o.value.member=b,o.value.rare=k,o.value.cardName=i.cardName,o.value.kana=i.kana,o.value.series=i.series||"",o.value.styleType=i.styleType,o.value.mood=i.mood;const D=Object.entries(Re).find(([A,r])=>A===i.gacha.period);o.value.period=D?D[1].en:Re.normal.en,o.value.season=i.gacha.addSeason,o.value.uniqueStatus={...i.uniqueStatus},i.specialAppeal&&(o.value.SAID=i.specialAppeal.ID,o.value.SAName=i.specialAppeal.name,o.value.SAAP=i.specialAppeal.AP,o.value.SADetail=JSON.stringify(i.specialAppeal.detail,null,2)),i.skill&&(o.value.skillID=i.skill.ID,o.value.skillName=i.skill.name,o.value.skillAP=i.skill.AP,o.value.skillDetail=JSON.stringify(i.skill.detail,null,2)),i.characteristic&&(o.value.characteristicName=i.characteristic.name,o.value.characteristicDetail=i.characteristic.detail),t.setEditTarget("","")}}},{immediate:!0});function y(){if(l.value)return l.value;const v=o.value.member,d=qa[v];if(!d)return"???_000";let i=0;const b=s.value[v];if(b){for(const k in b)for(const D in b[k])if(D.startsWith(d+"_")){const A=parseInt(D.split("_")[1],10);!isNaN(A)&&A>i&&(i=A)}}return`${d}_${String(i+1).padStart(3,"0")}`}function w(v){const d=Object.entries(Re).find(([,i])=>i.en===v);return d?d[0]:"normal"}const h=q(()=>{const v=y(),d=w(o.value.period),i={cardName:o.value.cardName,styleType:o.value.styleType,mood:o.value.mood,...o.value.series&&{series:o.value.series},kana:o.value.kana,gacha:{addSeason:o.value.season,period:d},uniqueStatus:{smile:o.value.uniqueStatus.smile,pure:o.value.uniqueStatus.pure,cool:o.value.uniqueStatus.cool,mental:o.value.uniqueStatus.mental,BP:o.value.uniqueStatus.BP},specialAppeal:{ID:o.value.SAID,name:o.value.SAName,AP:o.value.SAAP,detail:o.value.SADetail?JSON.parse(o.value.SADetail):[]},skill:{ID:o.value.skillID,name:o.value.skillName,AP:o.value.skillAP,detail:o.value.skillDetail?JSON.parse(o.value.skillDetail):[]},characteristic:{name:o.value.characteristicName,detail:o.value.characteristicDetail,type:[]}},b={[o.value.rare]:{[v]:i}};return JSON.stringify(b,null,2)}),V=async()=>{try{const v=JSON.parse(h.value),d=Object.keys(v)[0],i=Object.keys(v[d])[0],b=v[d][i],k=o.value.member,D={};D[`card/${k}/${d}/${i}`]=b,await Fe(re(ge),D),c.value="Dev環境にデータをアップロードしました",p.value="success",u.value=!0,l.value=""}catch(v){console.error(v),c.value="アップロードに失敗しました",p.value="error",u.value=!0}};return(v,d)=>(O(),$(ue,{fluid:"",class:"pa-0"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"8"},{default:n(()=>[a(U,{"no-gutters":""},{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(M,{modelValue:o.value.member,"onUpdate:modelValue":d[0]||(d[0]=i=>o.value.member=i),label:"Member Name",items:Object.values(I(Le)),"item-text":"label","item-value":"value",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"4"},{default:n(()=>[a(R,{modelValue:o.value.cardName,"onUpdate:modelValue":d[1]||(d[1]=i=>o.value.cardName=i),label:"Card Name",class:"pr-1",required:""},null,8,["modelValue"])]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(R,{modelValue:o.value.kana,"onUpdate:modelValue":d[2]||(d[2]=i=>o.value.kana=i),label:"Kana",class:"pr-1 pl-1",required:""},null,8,["modelValue"])]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(R,{modelValue:o.value.series,"onUpdate:modelValue":d[3]||(d[3]=i=>o.value.series=i),label:"Series",class:"pl-1"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":""},{default:n(()=>[a(g,{cols:"2"},{default:n(()=>[a(M,{modelValue:o.value.rare,"onUpdate:modelValue":d[4]||(d[4]=i=>o.value.rare=i),label:"Rarity",items:I(kt),"item-text":"label","item-value":"value",class:"pr-1",required:""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(M,{modelValue:o.value.styleType,"onUpdate:modelValue":d[5]||(d[5]=i=>o.value.styleType=i),label:"Style Type",items:Object.values(I(ht)).map(i=>i.en),"item-text":"label","item-value":"value",class:"pl-1 pr-1",required:""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(M,{modelValue:o.value.mood,"onUpdate:modelValue":d[6]||(d[6]=i=>o.value.mood=i),label:"Mood",items:Object.values(I(ft)).map(i=>i.en),"item-text":"text","item-value":"value",class:"pl-1 pr-1",required:""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"1"}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.uniqueStatus.smile,"onUpdate:modelValue":d[7]||(d[7]=i=>o.value.uniqueStatus.smile=i),label:"Smile",type:"number",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.uniqueStatus.pure,"onUpdate:modelValue":d[8]||(d[8]=i=>o.value.uniqueStatus.pure=i),label:"Pure",type:"number",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.uniqueStatus.cool,"onUpdate:modelValue":d[9]||(d[9]=i=>o.value.uniqueStatus.cool=i),label:"Cool",type:"number",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.uniqueStatus.mental,"onUpdate:modelValue":d[10]||(d[10]=i=>o.value.uniqueStatus.mental=i),label:"Mental",type:"number",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.uniqueStatus.BP,"onUpdate:modelValue":d[11]||(d[11]=i=>o.value.uniqueStatus.BP=i),label:"BP",type:"number",class:"pl-1"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"3"},{default:n(()=>[a(M,{modelValue:o.value.period,"onUpdate:modelValue":d[12]||(d[12]=i=>o.value.period=i),label:"Period",items:Object.values(I(Re)).map(i=>i.en),"item-text":"label","item-value":"value",class:"pr-1",required:""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:o.value.year,"onUpdate:modelValue":d[13]||(d[13]=i=>o.value.year=i),label:"Year",type:"number",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"1"},{default:n(()=>[a(R,{modelValue:o.value.sprit,"onUpdate:modelValue":d[14]||(d[14]=i=>o.value.sprit=i),label:"Sprit",type:"number",min:"0",class:"pl-1 pr-1"},null,8,["modelValue"])]),_:1}),a(g,{cols:"6"},{default:n(()=>[a(R,{modelValue:o.value.season,"onUpdate:modelValue":d[15]||(d[15]=i=>o.value.season=i),label:"Add Season",class:"pl-1",required:""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"6",class:"pr-1"},{default:n(()=>[a(R,{modelValue:o.value.SAID,"onUpdate:modelValue":d[16]||(d[16]=i=>o.value.SAID=i),label:"Special Appeal ID",required:""},null,8,["modelValue"]),a(R,{modelValue:o.value.SAName,"onUpdate:modelValue":d[17]||(d[17]=i=>o.value.SAName=i),label:"Special Appeal Name",required:""},null,8,["modelValue"]),a(R,{modelValue:o.value.SAAP,"onUpdate:modelValue":d[18]||(d[18]=i=>o.value.SAAP=i),modelModifiers:{number:!0},label:"Special Appeal AP",type:"number",required:""},null,8,["modelValue"])]),_:1}),a(g,{cols:"6",class:"pl-1"},{default:n(()=>[a(ee,{modelValue:o.value.SADetail,"onUpdate:modelValue":d[19]||(d[19]=i=>o.value.SADetail=i),label:"Special Appeal Detail",required:""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"6",class:"pr-1"},{default:n(()=>[a(R,{modelValue:o.value.skillID,"onUpdate:modelValue":d[20]||(d[20]=i=>o.value.skillID=i),label:"Skill ID",required:""},null,8,["modelValue"]),a(R,{modelValue:o.value.skillName,"onUpdate:modelValue":d[21]||(d[21]=i=>o.value.skillName=i),label:"Skill Name",required:""},null,8,["modelValue"]),a(R,{modelValue:o.value.skillAP,"onUpdate:modelValue":d[22]||(d[22]=i=>o.value.skillAP=i),modelModifiers:{number:!0},label:"Skill AP",type:"number",required:""},null,8,["modelValue"])]),_:1}),a(g,{cols:"6",class:"pl-1"},{default:n(()=>[a(ee,{modelValue:o.value.skillDetail,"onUpdate:modelValue":d[23]||(d[23]=i=>o.value.skillDetail=i),label:"Skill Detail"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":""},{default:n(()=>[a(g,{cols:"6",class:"pr-1"},{default:n(()=>[a(R,{modelValue:o.value.characteristicName,"onUpdate:modelValue":d[24]||(d[24]=i=>o.value.characteristicName=i),label:"Characteristic Name"},null,8,["modelValue"])]),_:1}),a(g,{cols:"6",class:"pl-1"},{default:n(()=>[a(ee,{modelValue:o.value.characteristicDetail,"onUpdate:modelValue":d[25]||(d[25]=i=>o.value.characteristicDetail=i),label:"Characteristic Detail"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(ee,{label:"Result","auto-grow":"",readonly:"","model-value":h.value},null,8,["model-value"]),a(L,{color:"primary","prepend-icon":"mdi-content-copy",text:"COPY",class:"mr-2",onClick:d[26]||(d[26]=i=>v.navigator.clipboard.writeText(h.value))}),a(L,{color:"green","prepend-icon":"mdi-cloud-upload",text:"Dev Upload",onClick:V})]),_:1})]),_:1}),a($e,{modelValue:u.value,"onUpdate:modelValue":d[27]||(d[27]=i=>u.value=i),timeout:3e3,color:p.value},{default:n(()=>[te(H(c.value),1)]),_:1},8,["modelValue","color"])]),_:1}))}}),Yr=De({__name:"AddMusic",setup(e){const t=E(!1),s=E("group"),l=E(!1),u=E([]),c=E(null),p=E(null),o=E(!1),y=E(!1),w=E("データを一時保存しました"),h=E("success"),V=E(!1),v=E(null),d=E(null),i=["あ","か","さ","た","な","は","ま","や","ら","わ","英数"],b=Qe(),k=E({});Ze(()=>{const f=re(ge,"music");Ot(f,_=>{const m=_.val();if(m&&(k.value=m,r.value.musicName==="")){const T=Object.keys(m).length,S=b.pendingList.filter(X=>X.type==="music"&&!m[Object.keys(X.data)[0]]).length,K=`m_${T+S+1}`;r.value.ID=K,r.value.ID_original=K,r.value.ID_preset=K}})}),ie([()=>b.editTarget,k],([f,_])=>{f&&f.type==="music"&&f.id&&_&&Object.keys(_).length>0&&_[f.id]&&(v.value=f.id,Z(),b.setEditTarget("",""))},{immediate:!0});const D=q(()=>{let f=Object.entries(k.value);return d.value&&(f=f.filter(([_,m])=>{const T=m.musicData.kana;if(!T)return!1;const S=T.charAt(0);switch(d.value){case"英数":return!/[ぁ-んゔ]/.test(S);case"あ":return/[ぁ-おゔ]/.test(S);case"か":return/[か-ご]/.test(S);case"さ":return/[さ-ぞ]/.test(S);case"た":return/[た-ど]/.test(S);case"な":return/[な-の]/.test(S);case"は":return/[は-ぽ]/.test(S);case"ま":return/[ま-も]/.test(S);case"や":return/[や-よ]/.test(S);case"ら":return/[ら-ろ]/.test(S);case"わ":return/[わ-ん]/.test(S);default:return!0}})),f.map(([_,m])=>({title:m.title,value:_}))}),A=()=>{const f=Object.keys(k.value).length,_=b.pendingList.filter(T=>T.type==="music"&&!k.value[Object.keys(T.data)[0]]).length,m=`m_${f+_+1}`;return{ID:m,ID_original:m,ID_preset:m,musicName:"",musicData:{kana:"",singer:Ie.HASUNOSORA,singer_group:"HASUNOSORA_105",singer_solo:[Le.KAHO],releaseDate:{year:2026,month:1,date:1},numbering:"",BPM:{original:150,inGame:150},time:{minuts:1,seconds:0,miliSeconds:0},cover:!1},imageURL:"",attribute:yt.SMILE.en,BHcount:0,level:0,term:105,center:Le.KAHO,bonusSkill:Vt.BEAT_HEART_UP,singingMembers:[],scoreData:{difficultyLevel:{NORMAL:1,HARD:1,EXPERT:1,MASTER:1},maxCombo:{NORMAL:1,HARD:1,EXPERT:1,MASTER:1}}}},r=E(A()),x=/^[\u3040-\u309F\u30FC0-9]*$/,W=[f=>x.test(f)||"ひらがなと数字のみ入力可能です"],z=q({get:()=>{const f=r.value.musicData.releaseDate;return`${f.year}-${String(f.month).padStart(2,"0")}-${String(f.date).padStart(2,"0")}`},set:f=>{if(!f)return;const[_,m,T]=f.split("-").map(Number);r.value.musicData.releaseDate.year=_,r.value.musicData.releaseDate.month=m,r.value.musicData.releaseDate.date=T}});ie(V,f=>{f&&(r.value.musicData.releaseDate={year:2099,month:12,date:31})});const ce=q(()=>r.value.musicName!==""&&r.value.musicData.kana!==""&&x.test(r.value.musicData.kana)),se=q(()=>{if(s.value==="group"){const f=r.value.musicData.singer_group;return Ee[f].MEMBERS}else return r.value.musicData.singer_solo}),Z=()=>{if(!v.value)return;const f=k.value[v.value];if(!f)return;if(t.value=!0,r.value.ID_preset=v.value,r.value.ID=t.value?v.value:r.value.ID_original,r.value.musicName=f.title,r.value.musicData.kana=f.musicData.kana,r.value.musicData.singer=f.musicData.singer,Object.values(Ie).includes(f.musicData.singer)){s.value="group";const T=Object.entries(Ie).find(([X,oe])=>oe===f.musicData.singer),S=T?T[0]:null,K=Object.entries(Ee).find(([X,oe])=>oe.KEY===S&&JSON.stringify(oe.MEMBERS)===JSON.stringify(f.singingMembers));K&&(r.value.musicData.singer_group=K[0])}else s.value="solo",r.value.musicData.singer_group=A().musicData.singer_group;r.value.musicData.singer_solo=f.singingMembers,r.value.musicData.releaseDate={...f.musicData.releaseDate},V.value=r.value.musicData.releaseDate.year===2099&&r.value.musicData.releaseDate.month===12&&r.value.musicData.releaseDate.date===31,r.value.musicData.numbering=f.musicData.numbering,r.value.musicData.BPM={...f.musicData.BPM},r.value.musicData.cover=f.musicData.cover;const _=f.musicData.time;r.value.musicData.time.minuts=Math.floor(_/60);const m=Math.floor(_%60);r.value.musicData.time.seconds=m,r.value.musicData.time.miliSeconds=parseFloat(((_-r.value.musicData.time.minuts*60-m)*10).toFixed(1)),r.value.imageURL=f.imageURL||"",r.value.attribute=f.attribute,r.value.BHcount=f.BHcount,r.value.level=f.level,r.value.term=f.term,r.value.center=f.center,r.value.bonusSkill=f.bonusSkill,r.value.singingMembers=[...f.singingMembers],f.scoreData?(o.value=!0,r.value.scoreData=JSON.parse(JSON.stringify(f.scoreData))):(o.value=!1,r.value.scoreData={difficultyLevel:{NORMAL:1,HARD:1,EXPERT:1,MASTER:1},maxCombo:{NORMAL:1,HARD:1,EXPERT:1,MASTER:1}}),v.value=null},le=()=>{t.value=!1,v.value=null,o.value=!1,r.value=A(),V.value=!1},de=async()=>{try{const f=JSON.parse(G.value),_=Object.keys(f)[0];if(l.value=!0,c.value){const T=Ve(ge.app),S=ye(T,`cdJacket/${c.value.name}`),K=await Be(S,c.value),X=await Ue(K.ref);f[_].imageURL=X}const m={};m[`music/${_}`]=f[_],await Fe(re(ge),m),w.value="Dev環境にデータをアップロードしました",h.value="success",y.value=!0,B()}catch(f){console.error("Failed to parse JSON",f),w.value="アップロードに失敗しました",h.value="error",y.value=!0}finally{l.value=!1}},Q=async()=>{if(!r.value.musicName)return;const f=Ve(ge.app),_=ye(f,"cdJacket");try{const T=(await zt(_)).items.find(S=>{const K=S.name,X=K.lastIndexOf(".");return(X!==-1?K.substring(0,X):K)===r.value.musicName});if(T){const S=await Ue(T);r.value.imageURL=S,w.value="画像URLを取得しました",h.value="success",y.value=!0}else w.value="画像が見つかりませんでした",h.value="warning",y.value=!0}catch(m){console.error("Failed to fetch image",m),w.value="画像の取得に失敗しました",h.value="error",y.value=!0}},_e=async()=>{const f=c.value;if(!f)return;l.value=!0;const _=Ve(ge.app),m=ye(_,`cdJacket/${f.name}`);try{const T=await Be(m,f),S=await Ue(T.ref);r.value.imageURL=S,B()}catch(T){console.error("Failed to upload image",T)}finally{l.value=!1}},N=f=>{const _=Array.isArray(f)?f[0]:f;if(!_){B();return}c.value=_;const m=new FileReader;m.onload=T=>{p.value=T.target?.result},m.readAsDataURL(_)},B=()=>{c.value=null,p.value=null,u.value=[]},G=q(()=>{const f=(r.value.musicData.time.minuts||0)*60+(r.value.musicData.time.seconds||0)+(r.value.musicData.time.miliSeconds||0)/10,_={[t.value?r.value.ID_preset:r.value.ID_original]:{title:r.value.musicName,musicData:{kana:r.value.musicData.kana,singer:s.value==="group"?Ie[Ee[r.value.musicData.singer_group].KEY]:r.value.musicData.singer_solo.map(m=>ja(m)).join("、"),releaseDate:{year:r.value.musicData.releaseDate.year,month:r.value.musicData.releaseDate.month,date:r.value.musicData.releaseDate.date},numbering:r.value.musicData.numbering,BPM:{original:r.value.musicData.BPM.original,inGame:r.value.musicData.BPM.inGame},time:f,cover:r.value.musicData.cover},imageURL:r.value.imageURL,attribute:r.value.attribute,BHcount:r.value.BHcount,level:r.value.level,term:r.value.term,center:r.value.center,bonusSkill:r.value.bonusSkill,singingMembers:s.value==="group"?Ee[r.value.musicData.singer_group].MEMBERS:r.value.musicData.singer_solo}};return o.value&&(_[t.value?r.value.ID_preset:r.value.ID_original].scoreData={difficultyLevel:{NORMAL:r.value.scoreData.difficultyLevel.NORMAL,HARD:r.value.scoreData.difficultyLevel.HARD,EXPERT:r.value.scoreData.difficultyLevel.EXPERT,MASTER:r.value.scoreData.difficultyLevel.MASTER},maxCombo:{NORMAL:r.value.scoreData.maxCombo.NORMAL,HARD:r.value.scoreData.maxCombo.HARD,EXPERT:r.value.scoreData.maxCombo.EXPERT,MASTER:r.value.scoreData.maxCombo.MASTER}}),JSON.stringify(_,null,2)});return(f,_)=>(O(),$(ue,{fluid:"",class:"pa-0"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"8"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"2"},{default:n(()=>[a(M,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=m=>d.value=m),label:"五十音",items:i,clearable:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"7"},{default:n(()=>[a(M,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=m=>v.value=m),label:"Preset",items:D.value,"item-title":"title","item-value":"value",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(L,{color:"primary",text:"Set",disabled:!v.value,onClick:Z},null,8,["disabled"]),a(L,{color:"warning",text:"Reset",class:"mx-2",onClick:le}),a(L,{color:"yellow","prepend-icon":"mdi-image-sync",text:"get",disabled:!r.value.musicName,onClick:Q},null,8,["disabled"])]),_:1}),a(g,{cols:"12"},{default:n(()=>[a(He)]),_:1}),a(g,{cols:"12"},{default:n(()=>[a(Se,{modelValue:t.value,"onUpdate:modelValue":_[2]||(_[2]=m=>t.value=m),label:"ID Override",color:"pink",disabled:r.value.ID_preset===r.value.ID_original,class:"pl-2",density:"compact","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{"model-value":t.value?r.value.ID_preset:r.value.ID_original,label:"Music ID",readonly:"","prepend-inner-icon":"mdi-information",density:"compact",variant:"outlined","hide-details":""},null,8,["model-value"])]),_:1}),a(g,{cols:"5"},{default:n(()=>[a(R,{modelValue:r.value.musicName,"onUpdate:modelValue":_[3]||(_[3]=m=>r.value.musicName=m),label:"Music Name",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"5"},{default:n(()=>[a(R,{modelValue:r.value.musicData.kana,"onUpdate:modelValue":_[4]||(_[4]=m=>r.value.musicData.kana=m),label:"Kana",required:"",rules:W,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,null,{default:n(()=>[a(Ka,{modelValue:s.value,"onUpdate:modelValue":_[5]||(_[5]=m=>s.value=m),label:"Singer",inline:"",density:"compact","hide-details":""},{default:n(()=>[a(wt,{label:"Group",value:"group",color:"pink",class:"mr-3"}),a(wt,{label:"Solo",value:"solo",color:"pink"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"6"},{default:n(()=>[a(M,{modelValue:r.value.musicData.singer_group,"onUpdate:modelValue":_[6]||(_[6]=m=>r.value.musicData.singer_group=m),items:Object.entries(I(Ee)).map(([m,T])=>({title:T.NAME,value:m})),"item-title":"title","item-value":"value",label:"Group",disabled:s.value!=="group",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items","disabled"])]),_:1}),a(g,{cols:"6"},{default:n(()=>[a(M,{modelValue:r.value.musicData.singer_solo,"onUpdate:modelValue":_[7]||(_[7]=m=>r.value.musicData.singer_solo=m),items:I(Wa)(),label:"Solo",multiple:"",disabled:s.value!=="solo",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:z.value,"onUpdate:modelValue":_[8]||(_[8]=m=>z.value=m),label:"Release Date",type:"date",disabled:V.value,required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(Se,{modelValue:V.value,"onUpdate:modelValue":_[9]||(_[9]=m=>V.value=m),label:"Unknown Date",color:"pink",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(R,{modelValue:r.value.musicData.numbering,"onUpdate:modelValue":_[10]||(_[10]=m=>r.value.musicData.numbering=m),label:"Numbering",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.musicData.BPM.original,"onUpdate:modelValue":_[11]||(_[11]=m=>r.value.musicData.BPM.original=m),modelModifiers:{number:!0},label:"BPM (Original)",max:"999",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.musicData.BPM.inGame,"onUpdate:modelValue":_[12]||(_[12]=m=>r.value.musicData.BPM.inGame=m),modelModifiers:{number:!0},label:"BPM (In Game)",max:"999",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.musicData.time.minuts,"onUpdate:modelValue":_[13]||(_[13]=m=>r.value.musicData.time.minuts=m),modelModifiers:{number:!0},label:"Time (minuts)",type:"number",max:"9",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.musicData.time.seconds,"onUpdate:modelValue":_[14]||(_[14]=m=>r.value.musicData.time.seconds=m),modelModifiers:{number:!0},label:"Time (seconds)",type:"number",max:"59",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.musicData.time.miliSeconds,"onUpdate:modelValue":_[15]||(_[15]=m=>r.value.musicData.time.miliSeconds=m),modelModifiers:{number:!0},label:"Time (miliSeconds)",type:"number",step:"0.1",max:"99.9",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(Se,{modelValue:r.value.musicData.cover,"onUpdate:modelValue":_[16]||(_[16]=m=>r.value.musicData.cover=m),label:"Cover",color:"pink",class:"pl-1",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"2"},{default:n(()=>[a(M,{modelValue:r.value.attribute,"onUpdate:modelValue":_[17]||(_[17]=m=>r.value.attribute=m),label:"Attribute",items:Object.values(I(yt)).map(m=>m.en),"item-text":"label","item-value":"value",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.BHcount,"onUpdate:modelValue":_[18]||(_[18]=m=>r.value.BHcount=m),modelModifiers:{number:!0},label:"BH Count",type:"number",max:"999",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.level,"onUpdate:modelValue":_[19]||(_[19]=m=>r.value.level=m),modelModifiers:{number:!0},label:"Level",type:"number",max:"1",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"2"},{default:n(()=>[a(R,{modelValue:r.value.term,"onUpdate:modelValue":_[20]||(_[20]=m=>r.value.term=m),modelModifiers:{number:!0},label:"Term",type:"number",min:"0",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"6"},{default:n(()=>[a(M,{modelValue:r.value.center,"onUpdate:modelValue":_[21]||(_[21]=m=>r.value.center=m),label:"Center",items:se.value,"item-text":"label","item-value":"value",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"6"},{default:n(()=>[a(M,{modelValue:r.value.bonusSkill,"onUpdate:modelValue":_[22]||(_[22]=m=>r.value.bonusSkill=m),label:"Bonus Skill",items:Object.entries(I(Vt)).map(([m,T])=>T),"item-text":"label","item-value":"value",required:"",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1}),a(U,{class:"pl-2"},{default:n(()=>[a(g,null,{default:n(()=>[a(Se,{modelValue:o.value,"onUpdate:modelValue":_[23]||(_[23]=m=>o.value=m),color:"pink",label:"Include Score Data (Difficulty Level & Max Combo)",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:n(()=>[a(g,{cols:"6"},{default:n(()=>[_[36]||(_[36]=J("h3",{class:"mb-3"},"Difficulty Level",-1)),a(U,null,{default:n(()=>[a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.difficultyLevel.NORMAL,"onUpdate:modelValue":_[24]||(_[24]=m=>r.value.scoreData.difficultyLevel.NORMAL=m),modelModifiers:{number:!0},label:"NORMAL",type:"number",max:"99",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.difficultyLevel.HARD,"onUpdate:modelValue":_[25]||(_[25]=m=>r.value.scoreData.difficultyLevel.HARD=m),modelModifiers:{number:!0},label:"HARD",type:"number",max:"99",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.difficultyLevel.EXPERT,"onUpdate:modelValue":_[26]||(_[26]=m=>r.value.scoreData.difficultyLevel.EXPERT=m),modelModifiers:{number:!0},label:"EXPERT",type:"number",max:"99",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.difficultyLevel.MASTER,"onUpdate:modelValue":_[27]||(_[27]=m=>r.value.scoreData.difficultyLevel.MASTER=m),modelModifiers:{number:!0},label:"MASTER",type:"number",max:"99",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),a(g,{cols:"6"},{default:n(()=>[_[37]||(_[37]=J("h3",{class:"mb-3"},"Max Combo",-1)),a(U,null,{default:n(()=>[a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.maxCombo.NORMAL,"onUpdate:modelValue":_[28]||(_[28]=m=>r.value.scoreData.maxCombo.NORMAL=m),modelModifiers:{number:!0},label:"NORMAL",type:"number",max:"9999",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.maxCombo.HARD,"onUpdate:modelValue":_[29]||(_[29]=m=>r.value.scoreData.maxCombo.HARD=m),modelModifiers:{number:!0},label:"HARD",type:"number",max:"9999",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.maxCombo.EXPERT,"onUpdate:modelValue":_[30]||(_[30]=m=>r.value.scoreData.maxCombo.EXPERT=m),modelModifiers:{number:!0},label:"EXPERT",type:"number",max:"9999",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"3"},{default:n(()=>[a(R,{modelValue:r.value.scoreData.maxCombo.MASTER,"onUpdate:modelValue":_[31]||(_[31]=m=>r.value.scoreData.maxCombo.MASTER=m),modelModifiers:{number:!0},label:"MASTER",type:"number",max:"9999",min:"1",disabled:!o.value,density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(L,{color:"primary","prepend-icon":"mdi-content-copy",text:"Copy",class:"mr-5",onClick:_[32]||(_[32]=m=>f.navigator.clipboard.writeText(G.value.value))}),a(L,{color:"green","prepend-icon":"mdi-cloud-upload",text:"Dev Upload",disabled:!ce.value,onClick:de},null,8,["disabled"])]),_:1}),a(g,{cols:"12"},{default:n(()=>[a(Ga,{modelValue:u.value,"onUpdate:modelValue":[_[33]||(_[33]=m=>u.value=m),N],label:"Jacket Image",accept:"image/webp","prepend-icon":"mdi-image",density:"compact",variant:"outlined","hide-details":"",loading:l.value},null,8,["modelValue","loading"])]),_:1}),a(g,{cols:"12"},{default:n(()=>[a(R,{modelValue:r.value.imageURL,"onUpdate:modelValue":_[34]||(_[34]=m=>r.value.imageURL=m),label:"Image URL",readonly:"","prepend-icon":"mdi-link-variant",density:"compact",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),p.value?(O(),$(g,{key:0,cols:"12",class:"text-center"},{default:n(()=>[a(be,{src:p.value,"max-height":"200",contain:""},null,8,["src"]),a(L,{color:"error",text:"Clear","prepend-icon":"mdi-close",class:"mt-3 mr-3",onClick:B}),a(L,{color:"primary",text:"Upload","prepend-icon":"mdi-cloud-upload",class:"mt-3",loading:l.value,onClick:_e},null,8,["loading"])]),_:1})):Me("",!0),a(g,{cols:"12"},{default:n(()=>[a(ee,{label:"Result","auto-grow":"",readonly:"",rows:"42","model-value":G.value},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),a($e,{modelValue:y.value,"onUpdate:modelValue":_[35]||(_[35]=m=>y.value=m),timeout:3e3,color:h.value},{default:n(()=>[te(H(w.value),1)]),_:1},8,["modelValue","color"])]),_:1}))}}),zr={style:{width:"15%"}},Zr={style:{width:"5%"}},Qr={style:{width:"5%"}},eu={style:{width:"20%"}},tu={key:1},au={style:{width:"30%"}},su={key:1},lu={style:{width:"25%"}},iu={key:1},ou=De({__name:"AddItem",setup(e){const t=Ct(),s=E(105),l=E("Spring"),u=E(1),c=E(Array.from({length:15},()=>({skillBook:"ITEMS.NONE",piece:"ITEMS.NONE",charm:"ITEMS.NONE"}))),p=q(()=>{const V=[{title:Y.NONE,value:"ITEMS.NONE"}];return Object.entries(Y.SKILL_BOOK).forEach(([v,d])=>{V.push({title:d,value:`ITEMS.SKILL_BOOK.${v}`})}),V}),o=q(()=>{const V=[{title:Y.NONE,value:"ITEMS.NONE"}];return Object.entries(Y.CHARM).forEach(([v,d])=>{typeof d=="object"?Object.entries(d).forEach(([i,b])=>{V.push({title:b,value:`ITEMS.CHARM.${v}.${i}`})}):V.push({title:d,value:`ITEMS.CHARM.${v}`})}),V}),y=q(()=>{const V=c.value.map(v=>`        {
          獲得可能アイテム: [${v.skillBook}, ${v.piece}, ${v.charm}],
          //'低確率獲得可能アイテム': ITEMS.SKILL_BOOK.LOW,
        }`).join(`,
`);return`    ${l.value}: [
      [
${V}
      ],
    ],`}),w=q(()=>{const V=[{title:Y.NONE,value:"ITEMS.NONE"}],v=d=>{Object.entries(Y.PIECE[d]).forEach(([i,b])=>{V.push({title:b,value:`ITEMS.PIECE.${d}.${i}`})})};switch(v("GARNET"),v("CARNELIAN"),l.value){case"Spring":v("EMERALD"),v("DIA");break;case"Summer":v("PERIDOT"),v("RUBY");break;case"Autumn":v("TOPAZ"),v("SAPPHIRE");break;case"Winter":v("TURQUOISE"),v("AMETHYST");break}return V}),h=V=>{V=/技能書/.test(V)?V:V.split("(")[0];for(const v in Dt)if(V===v)return Dt[v]};return(V,v)=>(O(),$(ue,{fluid:"",class:"pa-0"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"8"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"4"},{default:n(()=>[a(M,{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=d=>s.value=d),items:[103,104,105],label:"Period"},null,8,["modelValue"])]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(M,{modelValue:l.value,"onUpdate:modelValue":v[1]||(v[1]=d=>l.value=d),items:["Spring","Summer","Autumn","Winter"],label:"Season"},null,8,["modelValue"])]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(M,{modelValue:u.value,"onUpdate:modelValue":v[2]||(v[2]=d=>u.value=d),items:[1,2,3,4,5],label:"Area"},null,8,["modelValue"])]),_:1})]),_:1}),a(He,{class:"mb-5"}),a(Xa,null,{default:n(()=>[v[4]||(v[4]=J("thead",null,[J("tr",null,[J("th",{style:{width:"15%"}},"期/季節"),J("th",{style:{width:"5%"}},"Area"),J("th",{style:{width:"5%"}},"Stage"),J("th",{style:{width:"20%"}},"Item (Skill Book)"),J("th",{style:{width:"30%"}},"Item (Piece)"),J("th",{style:{width:"25%"}},"Item (Charm)")])],-1)),J("tbody",null,[(O(),fe(Te,null,It(15,d=>J("tr",{key:d},[J("td",zr,H(`${s.value}期${l.value}`),1),J("td",Zr,H(u.value),1),J("td",Qr,H(d),1),J("td",eu,[a(M,{modelValue:c.value[d-1].skillBook,"onUpdate:modelValue":i=>c.value[d-1].skillBook=i,items:p.value,"item-title":"title","item-value":"value",variant:"underlined","hide-details":!0},{item:n(({props:i,item:b})=>[a(Pe,we({ref_for:!0},i,{title:b.title}),{prepend:n(()=>[b.title!==I(Y).NONE?(O(),$(be,{key:0,src:I(t).getImagePath("icons/trainingItem",b.title),style:{width:"40px"},class:"mr-2"},null,8,["src"])):Me("",!0)]),_:2},1040,["title"])]),selection:n(({item:i})=>[i.title!==I(Y).NONE?(O(),$(Ke,{key:0,pill:"",class:"pl-0",color:h(i.title)},{default:n(()=>[a(We,{left:"",class:"mr-1"},{default:n(()=>[a(be,{src:I(t).getImagePath("icons/trainingItem",i.title)},null,8,["src"])]),_:2},1024),te(" "+H(i.title),1)]),_:2},1032,["color"])):(O(),fe("span",tu,H(i.title),1))]),_:1},8,["modelValue","onUpdate:modelValue","items"])]),J("td",au,[a(M,{modelValue:c.value[d-1].piece,"onUpdate:modelValue":i=>c.value[d-1].piece=i,items:w.value,"item-title":"title","item-value":"value",variant:"underlined","hide-details":!0},{item:n(({props:i,item:b})=>[a(Pe,we({ref_for:!0},i,{title:b.title}),{prepend:n(()=>[b.title!==I(Y).NONE?(O(),$(be,{key:0,src:I(t).getImagePath("icons/trainingItem",b.title),style:{width:"40px"},class:"mr-2"},null,8,["src"])):Me("",!0)]),_:2},1040,["title"])]),selection:n(({item:i})=>[i.title!==I(Y).NONE?(O(),$(Ke,{key:0,pill:"",class:"pl-0",color:h(i.title)},{default:n(()=>[a(We,{left:"",class:"mr-1"},{default:n(()=>[a(be,{src:I(t).getImagePath("icons/trainingItem",i.title)},null,8,["src"])]),_:2},1024),te(" "+H(i.title),1)]),_:2},1032,["color"])):(O(),fe("span",su,H(i.title),1))]),_:1},8,["modelValue","onUpdate:modelValue","items"])]),J("td",lu,[a(M,{modelValue:c.value[d-1].charm,"onUpdate:modelValue":i=>c.value[d-1].charm=i,items:o.value,"item-title":"title","item-value":"value",variant:"underlined","hide-details":!0},{item:n(({props:i,item:b})=>[a(Pe,we({ref_for:!0},i,{title:b.title}),{prepend:n(()=>[b.title!==I(Y).NONE?(O(),$(be,{key:0,src:I(t).getImagePath("icons/trainingItem",b.title),style:{width:"40px"},class:"mr-2"},null,8,["src"])):Me("",!0)]),_:2},1040,["title"])]),selection:n(({item:i})=>[i.title!==I(Y).NONE?(O(),$(Ke,{key:0,pill:"",class:"pl-0",color:h(i.title)},{default:n(()=>[a(We,{left:"",class:"mr-1"},{default:n(()=>[a(be,{src:I(t).getImagePath("icons/trainingItem",i.title)},null,8,["src"])]),_:2},1024),te(" "+H(i.title),1)]),_:2},1032,["color"])):(O(),fe("span",iu,H(i.title),1))]),_:1},8,["modelValue","onUpdate:modelValue","items"])])])),64))])]),_:1})]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(L,{color:"primary","prepend-icon":"mdi-content-copy",text:"COPY",class:"mb-3",onClick:v[3]||(v[3]=d=>V.navigator.clipboard.writeText(y.value))}),a(ee,{label:"Result","auto-grow":"",readonly:"",rows:"42","model-value":y.value},null,8,["model-value"])]),_:1})]),_:1})]),_:1}))}}),nu={};function ru(e,t){return O(),$(ue,{fluid:"",class:"pa-0"})}const uu=Pt(nu,[["render",ru]]),cu={};function du(e,t){return O(),$(ue,{fluid:"",class:"pa-0"})}const _u=Pt(cu,[["render",du]]),mu=De({__name:"AddEvent",setup(e){const t=async()=>{const w=(await Rt(re(ve,"music"))).val(),h={};w&&Object.entries(w).forEach(([d,i])=>{h[i.title]=d});const V=Ve(ve.app),v=Object.assign({"/src/assets/images/cdJacket/365 Days.webp":Dn,"/src/assets/images/cdJacket/37.5℃のファンタジー.webp":Vn,"/src/assets/images/cdJacket/AURORA FLOWER.webp":yn,"/src/assets/images/cdJacket/AWOKE.webp":wn,"/src/assets/images/cdJacket/AWOKE（104期Ver.）.webp":kn,"/src/assets/images/cdJacket/BANG YOU グラビティ.webp":hn,"/src/assets/images/cdJacket/BLAST!!.webp":fn,"/src/assets/images/cdJacket/BLAST！！.webp":gn,"/src/assets/images/cdJacket/BOW AND ARROW.webp":vn,"/src/assets/images/cdJacket/Bloom the smile, Bloom the dream!.webp":bn,"/src/assets/images/cdJacket/Bloom the smile, Bloom the dream！.webp":pn,"/src/assets/images/cdJacket/CHANGE!!!!.webp":mn,"/src/assets/images/cdJacket/CHANGE！！！！.webp":_n,"/src/assets/images/cdJacket/COMPASS.webp":dn,"/src/assets/images/cdJacket/Celebration!.webp":cn,"/src/assets/images/cdJacket/Celebration！.webp":un,"/src/assets/images/cdJacket/Chu! Chocolate.webp":rn,"/src/assets/images/cdJacket/Chu！ Chocolate.webp":nn,"/src/assets/images/cdJacket/Colorfulness.webp":on,"/src/assets/images/cdJacket/DEEPNESS.webp":ln,"/src/assets/images/cdJacket/DEEPNESS（ReC Ver.）.webp":sn,"/src/assets/images/cdJacket/Daydream Warrior.webp":an,"/src/assets/images/cdJacket/Dear my future.webp":tn,"/src/assets/images/cdJacket/Dream Believers(104期Ver.).webp":en,"/src/assets/images/cdJacket/Dream Believers(4人Ver.).webp":Qo,"/src/assets/images/cdJacket/Dream Believers.webp":Zo,"/src/assets/images/cdJacket/Dream Believers（105期Ver.）.webp":zo,"/src/assets/images/cdJacket/Dream Believers（SAKURA Ver.）.webp":Yo,"/src/assets/images/cdJacket/Edelied.webp":Xo,"/src/assets/images/cdJacket/FIRE BIRD.webp":Go,"/src/assets/images/cdJacket/Hello, new dream!.webp":Wo,"/src/assets/images/cdJacket/Hello, new dream！.webp":Ko,"/src/assets/images/cdJacket/Hip, hip, hooray!.webp":jo,"/src/assets/images/cdJacket/Hip, hip, hooray！.webp":qo,"/src/assets/images/cdJacket/Holiday∞Holiday.webp":Ho,"/src/assets/images/cdJacket/Holiday∞Holiday（104期Ver.）.webp":Fo,"/src/assets/images/cdJacket/IcHiGo milK love.webp":$o,"/src/assets/images/cdJacket/KEY of Like!.webp":Bo,"/src/assets/images/cdJacket/KEY of Like！.webp":Lo,"/src/assets/images/cdJacket/KNOT.webp":Mo,"/src/assets/images/cdJacket/KNOT（104期Ver.）.webp":Po,"/src/assets/images/cdJacket/Kawaii no susume.webp":Co,"/src/assets/images/cdJacket/Legato.webp":Oo,"/src/assets/images/cdJacket/Link to the FUTURE.webp":Io,"/src/assets/images/cdJacket/Link to the FUTURE（104期Ver.）.webp":No,"/src/assets/images/cdJacket/Love it! Wonderful Trip!.webp":xo,"/src/assets/images/cdJacket/Love it！ Wonderful Trip！.webp":Uo,"/src/assets/images/cdJacket/Mirage Voyage.webp":Jo,"/src/assets/images/cdJacket/Mirage Voyage（104期Ver.）.webp":To,"/src/assets/images/cdJacket/Mix shake!!.webp":So,"/src/assets/images/cdJacket/Mix shake!!（104期Ver.）.webp":Ao,"/src/assets/images/cdJacket/Mix shake！！.webp":Eo,"/src/assets/images/cdJacket/Mix shake！！（104期Ver.）.webp":Ro,"/src/assets/images/cdJacket/My Lucky Clover.webp":Do,"/src/assets/images/cdJacket/NEO SKY, NEO MAP!.webp":Vo,"/src/assets/images/cdJacket/NEO SKY, NEO MAP！.webp":yo,"/src/assets/images/cdJacket/NO IMAGE.png":wo,"/src/assets/images/cdJacket/NO IMAGE.webp":ko,"/src/assets/images/cdJacket/Now or Never.webp":ho,"/src/assets/images/cdJacket/Nεw Black.webp":fo,"/src/assets/images/cdJacket/On your mark(104期Ver.).webp":go,"/src/assets/images/cdJacket/On your mark.webp":vo,"/src/assets/images/cdJacket/Pleasure Feather.webp":bo,"/src/assets/images/cdJacket/Preserved Roses.webp":po,"/src/assets/images/cdJacket/Proof.webp":mo,"/src/assets/images/cdJacket/Reflection in the mirror.webp":_o,"/src/assets/images/cdJacket/Reflection in the mirror（104期NEW Ver.）.webp":co,"/src/assets/images/cdJacket/Retrofuture.webp":uo,"/src/assets/images/cdJacket/Runway.webp":ro,"/src/assets/images/cdJacket/START!! True dreams.webp":no,"/src/assets/images/cdJacket/STARTLINER.webp":oo,"/src/assets/images/cdJacket/START！！ True dreams.webp":io,"/src/assets/images/cdJacket/STEP UP！.webp":lo,"/src/assets/images/cdJacket/Sayo-Shigure.webp":so,"/src/assets/images/cdJacket/Shocking Party.webp":ao,"/src/assets/images/cdJacket/Snow halation.webp":to,"/src/assets/images/cdJacket/Sparkly Spot.webp":eo,"/src/assets/images/cdJacket/Sparkly Spot（104期NEW Ver.）.webp":Qi,"/src/assets/images/cdJacket/Special Thanks.webp":Zi,"/src/assets/images/cdJacket/TOKIMEKI Runners.webp":zi,"/src/assets/images/cdJacket/Take It Over.webp":Yi,"/src/assets/images/cdJacket/Take It Over（104期Ver.）.webp":Xi,"/src/assets/images/cdJacket/This game.webp":Gi,"/src/assets/images/cdJacket/Tragic Drops.webp":Wi,"/src/assets/images/cdJacket/Tragic Drops（104期Ver.）.webp":Ki,"/src/assets/images/cdJacket/Trick & Cute.webp":ji,"/src/assets/images/cdJacket/Trick & Cute（104期Ver.）.webp":qi,"/src/assets/images/cdJacket/Very! Very! COCO夏っ.webp":Hi,"/src/assets/images/cdJacket/Very！ Very！ COCO夏っ.webp":Fi,"/src/assets/images/cdJacket/WAWO!.webp":$i,"/src/assets/images/cdJacket/WAWO！.webp":Bi,"/src/assets/images/cdJacket/Welcome!.webp":Li,"/src/assets/images/cdJacket/Welcome！.webp":Mi,"/src/assets/images/cdJacket/Yup! Yup! Yup!.webp":Pi,"/src/assets/images/cdJacket/Yup！ Yup！ Yup！.webp":Ci,"/src/assets/images/cdJacket/be proud.webp":Oi,"/src/assets/images/cdJacket/diamondz.webp":Ii,"/src/assets/images/cdJacket/lucky train!.webp":Ni,"/src/assets/images/cdJacket/lucky train！.webp":xi,"/src/assets/images/cdJacket/♡桃色片想い♡.webp":Ui,"/src/assets/images/cdJacket/いったん.webp":Ji,"/src/assets/images/cdJacket/いつでも、いつまでも.webp":Ti,"/src/assets/images/cdJacket/いーあるふぁんくらぶ.webp":Si,"/src/assets/images/cdJacket/おいでよ！石川大観光.webp":Ai,"/src/assets/images/cdJacket/かくれんぼしよう.webp":Ei,"/src/assets/images/cdJacket/きゅうくらりん.webp":Ri,"/src/assets/images/cdJacket/そばかす.webp":Di,"/src/assets/images/cdJacket/ちょ、尊いLOVE.webp":Vi,"/src/assets/images/cdJacket/とーひょー☆スター！.webp":yi,"/src/assets/images/cdJacket/はじまりの羽音.webp":wi,"/src/assets/images/cdJacket/みらくりえーしょん.webp":ki,"/src/assets/images/cdJacket/もういちど ルミナス.webp":hi,"/src/assets/images/cdJacket/やっぱ天使！.webp":fi,"/src/assets/images/cdJacket/アイデンティティ.webp":gi,"/src/assets/images/cdJacket/アイデンティティ（104期NEW Ver.）.webp":vi,"/src/assets/images/cdJacket/アイドゥーミー！.webp":bi,"/src/assets/images/cdJacket/アイマイメーデー.webp":pi,"/src/assets/images/cdJacket/アオクハルカ.webp":mi,"/src/assets/images/cdJacket/アステリズム.webp":_i,"/src/assets/images/cdJacket/アンペア.webp":di,"/src/assets/images/cdJacket/ガランドFlash.webp":ci,"/src/assets/images/cdJacket/キミがいなくちゃっ！.webp":ui,"/src/assets/images/cdJacket/ゲッカビジン.webp":ri,"/src/assets/images/cdJacket/ココン東西.webp":ni,"/src/assets/images/cdJacket/ココン東西（104期Ver.）.webp":oi,"/src/assets/images/cdJacket/コネクト.webp":ii,"/src/assets/images/cdJacket/シアター生き様.webp":li,"/src/assets/images/cdJacket/シュガーメルト.webp":si,"/src/assets/images/cdJacket/シュガーメルト（104期Ver.）.webp":ai,"/src/assets/images/cdJacket/ジブンダイアリー.webp":ti,"/src/assets/images/cdJacket/ジョーショーキリュー.webp":ei,"/src/assets/images/cdJacket/スケイプゴート.webp":Ql,"/src/assets/images/cdJacket/ダイヤモンドハッピー.webp":Zl,"/src/assets/images/cdJacket/ダンスロボットダンス.webp":zl,"/src/assets/images/cdJacket/チャーミングな花束を！.webp":Yl,"/src/assets/images/cdJacket/チリコンカン.webp":Xl,"/src/assets/images/cdJacket/ツキマカセ.webp":Gl,"/src/assets/images/cdJacket/ツバサ・ラ・リベルテ.webp":Wl,"/src/assets/images/cdJacket/ツバサ・ラ・リベルテ（104期Ver.）.webp":Kl,"/src/assets/images/cdJacket/テレパシ.webp":jl,"/src/assets/images/cdJacket/ドライブ・スペード・クレイジー.webp":ql,"/src/assets/images/cdJacket/ド！ド！ド！.webp":Hl,"/src/assets/images/cdJacket/ド！ド！ド！（104期Ver.）.webp":Fl,"/src/assets/images/cdJacket/ニャオシグニャル.webp":$l,"/src/assets/images/cdJacket/ノンフィクションヒーローショー.webp":Bl,"/src/assets/images/cdJacket/ノンフィクションヒーローショー（104期Ver.）.webp":Ll,"/src/assets/images/cdJacket/ハクチューアラモード.webp":Ml,"/src/assets/images/cdJacket/ハクチューアラモード（104期Ver.）.webp":Pl,"/src/assets/images/cdJacket/ハッピーシンセサイザ.webp":Cl,"/src/assets/images/cdJacket/ハッピー至上主義！.webp":Ol,"/src/assets/images/cdJacket/ハナムスビ.webp":Il,"/src/assets/images/cdJacket/ハロめぐ讃歌.webp":Nl,"/src/assets/images/cdJacket/ハートにQ.webp":xl,"/src/assets/images/cdJacket/バアドケージ.webp":Ul,"/src/assets/images/cdJacket/バイタルサイン.webp":Jl,"/src/assets/images/cdJacket/パラレルダンサー.webp":Tl,"/src/assets/images/cdJacket/ビバハピ.webp":Sl,"/src/assets/images/cdJacket/ビビデバ.webp":Al,"/src/assets/images/cdJacket/ファンファーレ！！！.webp":El,"/src/assets/images/cdJacket/フォーチュンムービー.webp":Rl,"/src/assets/images/cdJacket/フュージョンクラスト.webp":Dl,"/src/assets/images/cdJacket/フルーツパンチ.webp":Vl,"/src/assets/images/cdJacket/ブルウモーメント.webp":yl,"/src/assets/images/cdJacket/ベジ・ラブ・ルー.webp":wl,"/src/assets/images/cdJacket/マハラジャンボリー.webp":kl,"/src/assets/images/cdJacket/マハラジャンボリーⅡ.webp":hl,"/src/assets/images/cdJacket/マハラジャンボリー（104期Ver.）.webp":fl,"/src/assets/images/cdJacket/ミラクルショッピング ～ドン・キホーテのテーマ～.webp":gl,"/src/assets/images/cdJacket/ミルク.webp":vl,"/src/assets/images/cdJacket/ユメワズライ.webp":bl,"/src/assets/images/cdJacket/ルージュの伝言.webp":pl,"/src/assets/images/cdJacket/レディバグ.webp":ml,"/src/assets/images/cdJacket/レム.webp":_l,"/src/assets/images/cdJacket/ロストワンの号哭.webp":dl,"/src/assets/images/cdJacket/ロミオとシンデレラ.webp":cl,"/src/assets/images/cdJacket/ヴィラン.webp":ul,"/src/assets/images/cdJacket/一生に夢が咲くように.webp":rl,"/src/assets/images/cdJacket/乙女詞華集.webp":nl,"/src/assets/images/cdJacket/令嬢モブ！.webp":ol,"/src/assets/images/cdJacket/以心☆電信.webp":il,"/src/assets/images/cdJacket/以心☆電信（104期Ver.）.webp":ll,"/src/assets/images/cdJacket/僕らのLIVE 君とのLIFE.webp":sl,"/src/assets/images/cdJacket/僕らは今のなかで.webp":al,"/src/assets/images/cdJacket/全方位キュン♡.webp":tl,"/src/assets/images/cdJacket/十六夜セレーネ.webp":el,"/src/assets/images/cdJacket/千変万華.webp":Qs,"/src/assets/images/cdJacket/千変万華（104期Ver.）.webp":Zs,"/src/assets/images/cdJacket/可惜夜花火.webp":zs,"/src/assets/images/cdJacket/名前のない怪物.webp":Ys,"/src/assets/images/cdJacket/君のこころは輝いてるかい？.webp":Xs,"/src/assets/images/cdJacket/壱雫空.webp":Gs,"/src/assets/images/cdJacket/夏めきペイン.webp":Ws,"/src/assets/images/cdJacket/夏めきペイン（104期Ver.）.webp":Ks,"/src/assets/images/cdJacket/夏めきペイン（105期Ver.）.webp":js,"/src/assets/images/cdJacket/夏色えがおで1, 2, Jump!.webp":qs,"/src/assets/images/cdJacket/夏色えがおで1, 2, Jump！.webp":Hs,"/src/assets/images/cdJacket/天地黎明.webp":Fs,"/src/assets/images/cdJacket/天才なのかもしれない.webp":$s,"/src/assets/images/cdJacket/天才なのかもしれない（104期Ver.）.webp":Bs,"/src/assets/images/cdJacket/太陽であれ！.webp":Ls,"/src/assets/images/cdJacket/始まりは君の空.webp":Ms,"/src/assets/images/cdJacket/威風堂々.webp":Ps,"/src/assets/images/cdJacket/希望的プリズム.webp":Cs,"/src/assets/images/cdJacket/希望的プリズム（104期Ver.）.webp":Os,"/src/assets/images/cdJacket/常夏☆サンシャイン.webp":Is,"/src/assets/images/cdJacket/平成ギャルズ!!!!.webp":Ns,"/src/assets/images/cdJacket/平成ギャルズ！！！！.webp":xs,"/src/assets/images/cdJacket/幸せのリボン.webp":Us,"/src/assets/images/cdJacket/強風オールバック.webp":Js,"/src/assets/images/cdJacket/御旗のもとに.webp":Ts,"/src/assets/images/cdJacket/心予報.webp":Ss,"/src/assets/images/cdJacket/恋景色昭和ロマン.webp":As,"/src/assets/images/cdJacket/恥は人生のかきすて.webp":Es,"/src/assets/images/cdJacket/愛♡スクリ～ム！.webp":Rs,"/src/assets/images/cdJacket/抱きしめる花びら.webp":Ds,"/src/assets/images/cdJacket/明日の空の僕たちへ.webp":Vs,"/src/assets/images/cdJacket/月光.webp":ys,"/src/assets/images/cdJacket/月夜見海月.webp":ws,"/src/assets/images/cdJacket/残陽.webp":ks,"/src/assets/images/cdJacket/水彩世界.webp":hs,"/src/assets/images/cdJacket/水彩世界（104期Ver.）.webp":fs,"/src/assets/images/cdJacket/永遠のEuphoria(4人Ver.).webp":gs,"/src/assets/images/cdJacket/永遠のEuphoria.webp":vs,"/src/assets/images/cdJacket/永遠のEuphoria（104期Ver.）.webp":bs,"/src/assets/images/cdJacket/深愛.webp":ps,"/src/assets/images/cdJacket/片翼のトリバガ.webp":ms,"/src/assets/images/cdJacket/狙いうち.webp":_s,"/src/assets/images/cdJacket/眩耀夜行.webp":ds,"/src/assets/images/cdJacket/眩耀夜行（104期Ver.）.webp":cs,"/src/assets/images/cdJacket/祝福.webp":us,"/src/assets/images/cdJacket/素顔のピクセル.webp":rs,"/src/assets/images/cdJacket/素顔のピクセル（104期Ver.）.webp":ns,"/src/assets/images/cdJacket/虹色Passions!.webp":os,"/src/assets/images/cdJacket/虹色Passions！.webp":is,"/src/assets/images/cdJacket/謳歌爛漫.webp":ls,"/src/assets/images/cdJacket/輪舞-revolution.webp":ss,"/src/assets/images/cdJacket/雑踏、僕らの街.webp":as,"/src/assets/images/cdJacket/雪舞う空と二秒の永遠.webp":ts,"/src/assets/images/cdJacket/青とシャボン.webp":es,"/src/assets/images/cdJacket/青春の輪郭.webp":Qa,"/src/assets/images/cdJacket/青春の輪郭（104期Ver.）.webp":Za,"/src/assets/images/cdJacket/青空Jumping Heart.webp":za,"/src/assets/images/cdJacket/飴色.webp":Ya});try{for(const d in v){const i=v[d],b=d.split("/").pop()||"",k=b.lastIndexOf("."),D=k!==-1?b.substring(0,k):b;if(!h[D]){console.log(`Skipping: ${b} (No matching ID found)`);continue}const A=`${h[D]}.webp`;console.log(`Processing: ${b} -> ${A}`);const x=await(await fetch(i)).blob(),W=ye(V,`cdJacket/${A}`);await Be(W,x)}console.log("All files uploaded successfully."),l.value=!0}catch(d){console.error("Error uploading files:",d)}},s=async()=>{const w=(await Rt(re(ve,"music"))).val(),h={};w&&Object.entries(w).forEach(([i,b])=>{h[b.title]=i});const V=Ve(ve.app),v=ye(V,"cdJacket"),d={};try{const i=await zt(v);await Promise.all(i.items.map(async b=>{const k=await Ue(b),D=b.name.lastIndexOf("."),A=D!==-1?b.name.substring(0,D):b.name;h[A]&&(d[`music/${h[A]}/imageURL`]=k)})),await Fe(re(ve),d),console.log("All image URLs updated successfully."),l.value=!0}catch(i){console.error("Error updating image URLs:",i)}},l=E(!1),u=["Story Event","Raid Event","Item Collection","Score Match","Challenge"],c=E({id:"",title:"",type:"Story Event",startDate:"",endDate:"",description:""}),p=q(()=>JSON.stringify(c.value,null,2)),o=()=>{navigator.clipboard.writeText(p.value),l.value=!0};return(y,w)=>(O(),$(ue,{fluid:"",class:"pa-0"},{default:n(()=>[a(U,null,{default:n(()=>[a(g,{cols:"8"},{default:n(()=>[a(U,{"no-gutters":""},{default:n(()=>[a(g,{cols:"12",class:"mb-3"},{default:n(()=>[a(R,{modelValue:c.value.title,"onUpdate:modelValue":w[0]||(w[0]=h=>c.value.title=h),label:"Event Title",variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"6",class:"pr-2"},{default:n(()=>[a(M,{modelValue:c.value.type,"onUpdate:modelValue":w[1]||(w[1]=h=>c.value.type=h),label:"Event Type",items:u,variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1}),a(g,{cols:"6",class:"pl-2"},{default:n(()=>[a(R,{modelValue:c.value.id,"onUpdate:modelValue":w[2]||(w[2]=h=>c.value.id=h),label:"Event ID",variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,{"no-gutters":"",class:"mb-3"},{default:n(()=>[a(g,{cols:"6",class:"pr-2"},{default:n(()=>[a(R,{modelValue:c.value.startDate,"onUpdate:modelValue":w[3]||(w[3]=h=>c.value.startDate=h),label:"Start Date",type:"datetime-local",variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1}),a(g,{cols:"6",class:"pl-2"},{default:n(()=>[a(R,{modelValue:c.value.endDate,"onUpdate:modelValue":w[4]||(w[4]=h=>c.value.endDate=h),label:"End Date",type:"datetime-local",variant:"outlined",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),a(He,{class:"mb-4"}),a(U,{"no-gutters":""},{default:n(()=>[a(g,{cols:"12"},{default:n(()=>[a(ee,{modelValue:c.value.description,"onUpdate:modelValue":w[5]||(w[5]=h=>c.value.description=h),label:"Description",variant:"outlined",rows:"5"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(g,{cols:"4"},{default:n(()=>[a(L,{text:"Copy JSON",color:"primary","prepend-icon":"mdi-content-copy",onClick:o}),a(L,{text:"change",color:"yellow",disabled:"",onClick:t}),a(L,{text:"Update URLs",color:"green",onClick:s}),a(ee,{label:"JSON Output","model-value":p.value,readonly:"","auto-grow":"",rows:"15",variant:"outlined",class:"mt-4"},null,8,["model-value"])]),_:1})]),_:1}),a($e,{modelValue:l.value,"onUpdate:modelValue":w[6]||(w[6]=h=>l.value=h),color:"success",timeout:2e3},{default:n(()=>[...w[7]||(w[7]=[te(" Copied to clipboard ",-1)])]),_:1},8,["modelValue"])]),_:1}))}}),bu=De({__name:"AddData",setup(e){const t=E("pendingDataList"),s=Ct(),l=u=>{u==="music"?t.value="music":u==="card"?t.value="cardList":u==="event"&&(t.value="event")};return(u,c)=>(O(),$(ue,{fluid:"",class:"py-2 px-0"},{default:n(()=>[c[3]||(c[3]=J("h1",null,"DATA MANAGEMENT",-1)),a(Se,{modelValue:I(s).isDev,"onUpdate:modelValue":c[0]||(c[0]=p=>I(s).isDev=p),label:"isDev",color:"pink",density:"compact","hide-details":"","hide-input":"",class:"pl-2"},null,8,["modelValue"]),a(Rn,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=p=>t.value=p),color:"pink"},{default:n(()=>[a(me,{value:"pendingDataList",text:"Pending Data"}),a(me,{value:"cardList",text:"Card"}),a(me,{value:"skillList",text:"Skill"}),a(me,{value:"skillDetail",text:"Skill Detail"}),a(me,{value:"music",text:"Music"}),a(me,{value:"item",text:"Item"}),a(me,{value:"event",text:"Event"})]),_:1},8,["modelValue"]),a(He,{class:"mb-2"}),a(En,{modelValue:t.value,"onUpdate:modelValue":c[2]||(c[2]=p=>t.value=p),class:"pt-3"},{default:n(()=>[a(pe,{value:"pendingDataList"},{default:n(()=>[a(Gr,{onEdit:l})]),_:1}),a(pe,{value:"cardList"},{default:n(()=>[a(Xr)]),_:1}),a(pe,{value:"skillList"},{default:n(()=>[a(uu)]),_:1}),a(pe,{value:"skillDetail"},{default:n(()=>[a(_u)]),_:1}),a(pe,{value:"music"},{default:n(()=>[a(Yr)]),_:1}),a(pe,{value:"item"},{default:n(()=>[a(ou)]),_:1}),a(pe,{value:"event"},{default:n(()=>[a(mu)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{bu as default};
